{"remainingRequest":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/babel-loader/lib/index.js!/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/src/components/Scoreboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/src/components/Scoreboard.vue","mtime":1578923318836},{"path":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gian/go/src/haaukins/svcs/amigo/resources/private/js/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TeamRow from \"./TeamRow.vue\";\n/* eslint-disable */\n\nexport default {\n  name: 'scoreboard',\n  data: function data() {\n    return {\n      teams: [],\n      challenges: []\n    };\n  },\n  created: function created() {\n    var url = new URL('/scores', window.location.href);\n    url.protocol = url.protocol.replace('http', 'ws');\n    this.connectToWS(url.href);\n  },\n  methods: {\n    connectToWS: function connectToWS(url) {\n      var self = this;\n      var ws = new WebSocket(url);\n      ws.onmessage = self.receiveMsg;\n\n      ws.onclose = function () {\n        ws = null;\n        setTimeout(function () {\n          self.connectToWS(url);\n        }, 3000);\n      };\n    },\n    receiveMsg: function receiveMsg(evt) {\n      var messages = evt.data.split('\\n');\n\n      for (var i = 0; i < messages.length; i++) {\n        var msg = messages[i];\n        var json = JSON.parse(msg);\n\n        switch (json.msg) {\n          case \"challenges\":\n            this.challenges = json.values;\n            console.log(this.challenges.toString());\n            break;\n\n          case \"teams\":\n            this.teams = json.values;\n            console.log(this.teams.toString());\n            break;\n        }\n      }\n    }\n  },\n  components: {\n    TeamRow: TeamRow\n  }\n};",{"version":3,"sources":["Scoreboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,OAAA;AACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA,mBAAA;AACA,QAAA,GAAA,GAAA,IAAA,GAAA,CAAA,SAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,IAAA,GAAA,CAAA,QAAA,GAAA,GAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA;AACA,SAAA,WAAA,CAAA,GAAA,CAAA,IAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,EAAA,GAAA,IAAA,SAAA,CAAA,GAAA,CAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,IAAA,CAAA,UAAA;;AACA,MAAA,EAAA,CAAA,OAAA,GAAA,YAAA;AACA,QAAA,EAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA,YAAA;AAAA,UAAA,IAAA,CAAA,WAAA,CAAA,GAAA;AAAA,SAAA,EAAA,IAAA,CAAA;AACA,OAHA;AAIA,KATA;AAUA,IAAA,UAAA,EAAA,oBAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,gBAAA,IAAA,CAAA,GAAA;AACA,eAAA,YAAA;AACA,iBAAA,UAAA,GAAA,IAAA,CAAA,MAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,CAAA,QAAA,EAAA;AACA;;AACA,eAAA,OAAA;AACA,iBAAA,KAAA,GAAA,IAAA,CAAA,MAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA;AACA;AARA;AAUA;AACA;AA1BA,GAbA;AAyCA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA;AAzCA,CAAA","sourcesContent":["<template>\n<table class=\"table centerbox is-striped\">\n  <thead>\n    <tr>\n      <th></th>\n      <th>Team</th>\n      <th v-for=\"chal in challenges\" v-bind:key=\"chal.tag\"><abbr :title=\"chal.name\">{{ chal.tag }}</abbr></th>\n    </tr>\n  </thead>\n  <tbody>\n    <team-row v-for=\"(team, index) in teams\" v-bind:key=\"team.id\" :name=\"team.name\" :completions=\"team.completions\" :pos=\"index + 1\"></team-row>\n    <tr>\n      <td></td>\n      <td>{{teams}}</td>\n      <td>{{challenges}}</td>\n    </tr>\n  </tbody>\n</table>\n\n</template>\n\n<script>\nimport TeamRow from './TeamRow.vue'\n/* eslint-disable */\n\nexport default {\n  name: 'scoreboard',\n  data: () => {\n    return {\n      teams: [],\n      challenges: [],\n    }\n  },\n  created: function() {\n    var url = new URL('/scores', window.location.href);\n    url.protocol = url.protocol.replace('http', 'ws');\n    this.connectToWS(url.href);\n  },\n  methods: {\n    connectToWS: function(url) {\n      var self = this;\n      var ws = new WebSocket(url);\n      ws.onmessage = self.receiveMsg\n      ws.onclose = function(){\n\tws = null;\n        setTimeout(function(){self.connectToWS(url)}, 3000);\n      };\n    },\n    receiveMsg: function(evt) {\n\tvar messages = evt.data.split('\\n');\n\tfor (var i = 0; i < messages.length; i++) {\n\t  const msg = messages[i];\n\t  const json = JSON.parse(msg);\n\t  switch (json.msg) {\n\t  case \"challenges\":\n\t    this.challenges = json.values;\n\t    console.log(this.challenges.toString())\n\t    break;\n\t  case \"teams\":\n\t    this.teams = json.values;\n        console.log(this.teams.toString())\n\t    break;\n\t  }\n\t}\n    },\n  },\n  components: {\n    TeamRow,\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}